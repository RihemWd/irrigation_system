{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/meteo.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction StationsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 8);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r0.success, \" \");\n  }\n}\nfunction StationsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 9);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction StationsComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 10)(1, \"h3\");\n    i0.…µ…µtext(2, \"Nouvelle Station M\\u00E9t\\u00E9o\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"form\", 11);\n    i0.…µ…µlistener(\"ngSubmit\", function StationsComponent_div_8_Template_form_ngSubmit_3_listener() {\n      i0.…µ…µrestoreView(_r7);\n      const ctx_r6 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r6.createStation());\n    });\n    i0.…µ…µelementStart(4, \"div\", 12)(5, \"label\", 13);\n    i0.…µ…µtext(6, \"Nom de la station *\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"input\", 14);\n    i0.…µ…µlistener(\"ngModelChange\", function StationsComponent_div_8_Template_input_ngModelChange_7_listener($event) {\n      i0.…µ…µrestoreView(_r7);\n      const ctx_r8 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r8.newStation.nom = $event);\n    });\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(8, \"div\", 15)(9, \"div\", 12)(10, \"label\", 16);\n    i0.…µ…µtext(11, \"Latitude *\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"input\", 17);\n    i0.…µ…µlistener(\"ngModelChange\", function StationsComponent_div_8_Template_input_ngModelChange_12_listener($event) {\n      i0.…µ…µrestoreView(_r7);\n      const ctx_r9 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r9.newStation.latitude = $event);\n    });\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(13, \"div\", 12)(14, \"label\", 18);\n    i0.…µ…µtext(15, \"Longitude *\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(16, \"input\", 19);\n    i0.…µ…µlistener(\"ngModelChange\", function StationsComponent_div_8_Template_input_ngModelChange_16_listener($event) {\n      i0.…µ…µrestoreView(_r7);\n      const ctx_r10 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r10.newStation.longitude = $event);\n    });\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(17, \"div\", 12)(18, \"label\", 20);\n    i0.…µ…µtext(19, \"Fournisseur *\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(20, \"input\", 21);\n    i0.…µ…µlistener(\"ngModelChange\", function StationsComponent_div_8_Template_input_ngModelChange_20_listener($event) {\n      i0.…µ…µrestoreView(_r7);\n      const ctx_r11 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r11.newStation.fournisseur = $event);\n    });\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(21, \"button\", 22);\n    i0.…µ…µtext(22);\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(7);\n    i0.…µ…µproperty(\"ngModel\", ctx_r2.newStation.nom);\n    i0.…µ…µadvance(5);\n    i0.…µ…µproperty(\"ngModel\", ctx_r2.newStation.latitude);\n    i0.…µ…µadvance(4);\n    i0.…µ…µproperty(\"ngModel\", ctx_r2.newStation.longitude);\n    i0.…µ…µadvance(4);\n    i0.…µ…µproperty(\"ngModel\", ctx_r2.newStation.fournisseur);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"disabled\", ctx_r2.loading);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r2.loading ? \"Cr\\u00E9ation...\" : \"\\u2705 Cr\\u00E9er la Station\", \" \");\n  }\n}\nfunction StationsComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 23);\n    i0.…µ…µtext(1, \" Chargement des stations \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction StationsComponent_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 10)(1, \"h3\");\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"p\")(4, \"strong\");\n    i0.…µ…µtext(5, \"ID:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"p\")(8, \"strong\");\n    i0.…µ…µtext(9, \"\\uD83D\\uDCCD Position:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(10);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"p\")(12, \"strong\");\n    i0.…µ…µtext(13, \"\\uD83C\\uDFE2 Fournisseur:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(14);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(15, \"div\", 26)(16, \"button\", 27);\n    i0.…µ…µlistener(\"click\", function StationsComponent_div_10_div_1_Template_button_click_16_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r15);\n      const station_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r14.deleteStation(station_r13.id, station_r13.nom));\n    });\n    i0.…µ…µtext(17, \" \\uD83D\\uDDD1\\uFE0F Supprimer \");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const station_r13 = ctx.$implicit;\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\\uD83C\\uDF0D \", station_r13.nom, \"\");\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate1(\" \", station_r13.id, \"\");\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate2(\" \", station_r13.latitude, \", \", station_r13.longitude, \"\");\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate1(\" \", station_r13.fournisseur, \"\");\n  }\n}\nfunction StationsComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 24);\n    i0.…µ…µtemplate(1, StationsComponent_div_10_div_1_Template, 18, 5, \"div\", 25);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r4.stations);\n  }\n}\nfunction StationsComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 28)(1, \"p\", 29);\n    i0.…µ…µtext(2, \"Aucune station m\\u00E9t\\u00E9o enregistr\\u00E9e.\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"p\");\n    i0.…µ…µtext(4, \"Cliquez sur \\\"Nouvelle Station\\\" pour en cr\\u00E9er une.\");\n    i0.…µ…µelementEnd()();\n  }\n}\nexport class StationsComponent {\n  constructor(meteoService) {\n    this.meteoService = meteoService;\n    this.stations = [];\n    this.loading = false;\n    this.error = null;\n    this.success = null;\n    this.showForm = false;\n    this.newStation = {\n      nom: '',\n      latitude: 0,\n      longitude: 0,\n      fournisseur: ''\n    };\n  }\n  ngOnInit() {\n    this.loadStations();\n  }\n  loadStations() {\n    this.loading = true;\n    this.error = null;\n    this.meteoService.getAllStations().subscribe({\n      next: data => {\n        this.stations = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Erreur lors du chargement des stations: ' + err.message;\n        this.loading = false;\n      }\n    });\n  }\n  toggleForm() {\n    this.showForm = !this.showForm;\n    if (!this.showForm) {\n      this.resetForm();\n    }\n  }\n  createStation() {\n    this.loading = true;\n    this.error = null;\n    this.success = null;\n    this.meteoService.createStation(this.newStation).subscribe({\n      next: station => {\n        this.success = `Station \"${station.nom}\" cr√©√©e avec succ√®s!`;\n        this.loadStations();\n        this.resetForm();\n        this.showForm = false;\n        setTimeout(() => this.success = null, 3000);\n      },\n      error: err => {\n        this.error = 'Erreur lors de la cr√©ation: ' + err.message;\n        this.loading = false;\n      }\n    });\n  }\n  deleteStation(id, nom) {\n    if (confirm(`√ätes-vous s√ªr de vouloir supprimer la station \"${nom}\" ?`)) {\n      this.meteoService.deleteStation(id).subscribe({\n        next: () => {\n          this.success = `Station \"${nom}\" supprim√©e avec succ√®s!`;\n          this.loadStations();\n          setTimeout(() => this.success = null, 3000);\n        },\n        error: err => {\n          this.error = 'Erreur lors de la suppression: ' + err.message;\n        }\n      });\n    }\n  }\n  resetForm() {\n    this.newStation = {\n      nom: '',\n      latitude: 0,\n      longitude: 0,\n      fournisseur: ''\n    };\n  }\n  static {\n    this.…µfac = function StationsComponent_Factory(t) {\n      return new (t || StationsComponent)(i0.…µ…µdirectiveInject(i1.MeteoService));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: StationsComponent,\n      selectors: [[\"app-stations\"]],\n      decls: 12,\n      vars: 7,\n      consts: [[2, \"display\", \"flex\", \"justify-content\", \"space-between\", \"align-items\", \"center\", \"margin-bottom\", \"20px\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [\"class\", \"alert alert-error\", 4, \"ngIf\"], [\"class\", \"card\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"grid\", 4, \"ngIf\"], [\"style\", \"text-align: center; padding: 40px; color: #999;\", 4, \"ngIf\"], [1, \"alert\", \"alert-success\"], [1, \"alert\", \"alert-error\"], [1, \"card\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"nom\"], [\"type\", \"text\", \"id\", \"nom\", \"name\", \"nom\", \"required\", \"\", \"placeholder\", \"Ex: Station Paris Centre\", 3, \"ngModel\", \"ngModelChange\"], [2, \"display\", \"grid\", \"grid-template-columns\", \"1fr 1fr\", \"gap\", \"15px\"], [\"for\", \"latitude\"], [\"type\", \"number\", \"id\", \"latitude\", \"name\", \"latitude\", \"step\", \"0.0001\", \"required\", \"\", \"placeholder\", \"Ex: 48.8566\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"longitude\"], [\"type\", \"number\", \"id\", \"longitude\", \"name\", \"longitude\", \"step\", \"0.0001\", \"required\", \"\", \"placeholder\", \"Ex: 2.3522\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"fournisseur\"], [\"type\", \"text\", \"id\", \"fournisseur\", \"name\", \"fournisseur\", \"required\", \"\", \"placeholder\", \"Ex: MeteoFrance\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [1, \"loading\"], [1, \"grid\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [2, \"margin-top\", \"15px\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [2, \"text-align\", \"center\", \"padding\", \"40px\", \"color\", \"#999\"], [2, \"font-size\", \"18px\"]],\n      template: function StationsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\")(1, \"div\", 0)(2, \"h2\");\n          i0.…µ…µtext(3, \"\\uD83C\\uDF0D Stations M\\u00E9t\\u00E9o\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(4, \"button\", 1);\n          i0.…µ…µlistener(\"click\", function StationsComponent_Template_button_click_4_listener() {\n            return ctx.toggleForm();\n          });\n          i0.…µ…µtext(5);\n          i0.…µ…µelementEnd()();\n          i0.…µ…µtemplate(6, StationsComponent_div_6_Template, 2, 1, \"div\", 2);\n          i0.…µ…µtemplate(7, StationsComponent_div_7_Template, 2, 1, \"div\", 3);\n          i0.…µ…µtemplate(8, StationsComponent_div_8_Template, 23, 6, \"div\", 4);\n          i0.…µ…µtemplate(9, StationsComponent_div_9_Template, 2, 0, \"div\", 5);\n          i0.…µ…µtemplate(10, StationsComponent_div_10_Template, 2, 1, \"div\", 6);\n          i0.…µ…µtemplate(11, StationsComponent_div_11_Template, 5, 0, \"div\", 7);\n          i0.…µ…µelementEnd();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(5);\n          i0.…µ…µtextInterpolate1(\" \", ctx.showForm ? \"\\u274C Annuler\" : \"\\u2795 Nouvelle Station\", \" \");\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.success);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.error);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.showForm);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.loading && !ctx.showForm);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.stations.length > 0);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.stations.length === 0 && !ctx.showForm);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.…µNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      styles: [\"h3[_ngcontent-%COMP%] {\\r\\n  color: #667eea;\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n\\r\\np[_ngcontent-%COMP%] {\\r\\n  margin: 8px 0;\\r\\n  color: #555;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zdGF0aW9ucy9zdGF0aW9ucy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QjtBQUM5QjtFQUNFLGNBQWM7RUFDZCxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsV0FBVztBQUNiIiwic291cmNlc0NvbnRlbnQiOlsiLyogU3RhdGlvbnMgQ29tcG9uZW50IFN0eWxlcyAqL1xyXG5oMyB7XHJcbiAgY29sb3I6ICM2NjdlZWE7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufVxyXG5cclxucCB7XHJcbiAgbWFyZ2luOiA4cHggMDtcclxuICBjb2xvcjogIzU1NTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["i0","StationsComponent","constructor","meteoService","nom","latitude","longitude","fournisseur","ngOnInit","loadStations","loading","error","getAllStations","subscribe","next","data","stations","err","message","toggleForm","showForm","resetForm","createStation","success","newStation","station","setTimeout","deleteStation","id","confirm","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\alternance\\itbs_3\\microservices\\irrigation-system\\frontend\\irrigation-ui\\src\\app\\components\\stations\\stations.component.html","C:\\Users\\HP\\Desktop\\alternance\\itbs_3\\microservices\\irrigation-system\\frontend\\irrigation-ui\\src\\app\\components\\stations\\stations.component.ts"],"sourcesContent":["<div>\r\n  <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;\">\r\n    <h2>üåç Stations M√©t√©o</h2>\r\n    <button class=\"btn btn-primary\" (click)=\"toggleForm()\">\r\n      {{ showForm ? '‚ùå Annuler' : '‚ûï Nouvelle Station' }}\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"alert alert-success\" *ngIf=\"success\">\r\n    {{ success }}\r\n  </div>\r\n\r\n  <div class=\"alert alert-error\" *ngIf=\"error\">\r\n    {{ error }}\r\n  </div>\r\n\r\n  <!-- Formulaire de cr√©ation -->\r\n  <div class=\"card\" *ngIf=\"showForm\">\r\n    <h3>Nouvelle Station M√©t√©o</h3>\r\n    <form (ngSubmit)=\"createStation()\">\r\n      <div class=\"form-group\">\r\n        <label for=\"nom\">Nom de la station *</label>\r\n        <input \r\n          type=\"text\" \r\n          id=\"nom\" \r\n          [(ngModel)]=\"newStation.nom\" \r\n          name=\"nom\" \r\n          required \r\n          placeholder=\"Ex: Station Paris Centre\">\r\n      </div>\r\n\r\n      <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 15px;\">\r\n        <div class=\"form-group\">\r\n          <label for=\"latitude\">Latitude *</label>\r\n          <input \r\n            type=\"number\" \r\n            id=\"latitude\" \r\n            [(ngModel)]=\"newStation.latitude\" \r\n            name=\"latitude\" \r\n            step=\"0.0001\" \r\n            required \r\n            placeholder=\"Ex: 48.8566\">\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"longitude\">Longitude *</label>\r\n          <input \r\n            type=\"number\" \r\n            id=\"longitude\" \r\n            [(ngModel)]=\"newStation.longitude\" \r\n            name=\"longitude\" \r\n            step=\"0.0001\" \r\n            required \r\n            placeholder=\"Ex: 2.3522\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"fournisseur\">Fournisseur *</label>\r\n        <input \r\n          type=\"text\" \r\n          id=\"fournisseur\" \r\n          [(ngModel)]=\"newStation.fournisseur\" \r\n          name=\"fournisseur\" \r\n          required \r\n          placeholder=\"Ex: MeteoFrance\">\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-success\" [disabled]=\"loading\">\r\n        {{ loading ? 'Cr√©ation...' : '‚úÖ Cr√©er la Station' }}\r\n      </button>\r\n    </form>\r\n  </div>\r\n\r\n  <!-- Liste des stations -->\r\n  <div *ngIf=\"loading && !showForm\" class=\"loading\">\r\n    Chargement des stations\r\n  </div>\r\n\r\n  <div class=\"grid\" *ngIf=\"!loading && stations.length > 0\">\r\n    <div class=\"card\" *ngFor=\"let station of stations\">\r\n      <h3>üåç {{ station.nom }}</h3>\r\n      <p><strong>ID:</strong> {{ station.id }}</p>\r\n      <p><strong>üìç Position:</strong> {{ station.latitude }}, {{ station.longitude }}</p>\r\n      <p><strong>üè¢ Fournisseur:</strong> {{ station.fournisseur }}</p>\r\n      <div style=\"margin-top: 15px;\">\r\n        <button class=\"btn btn-danger\" (click)=\"deleteStation(station.id!, station.nom)\">\r\n          üóëÔ∏è Supprimer\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && stations.length === 0 && !showForm\" style=\"text-align: center; padding: 40px; color: #999;\">\r\n    <p style=\"font-size: 18px;\">Aucune station m√©t√©o enregistr√©e.</p>\r\n    <p>Cliquez sur \"Nouvelle Station\" pour en cr√©er une.</p>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MeteoService, Station } from '../../services/meteo.service';\r\n\r\n@Component({\r\n  selector: 'app-stations',\r\n  templateUrl: './stations.component.html',\r\n  styleUrls: ['./stations.component.css']\r\n})\r\nexport class StationsComponent implements OnInit {\r\n  stations: Station[] = [];\r\n  loading = false;\r\n  error: string | null = null;\r\n  success: string | null = null;\r\n  showForm = false;\r\n\r\n  newStation: Station = {\r\n    nom: '',\r\n    latitude: 0,\r\n    longitude: 0,\r\n    fournisseur: ''\r\n  };\r\n\r\n  constructor(private meteoService: MeteoService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadStations();\r\n  }\r\n\r\n  loadStations(): void {\r\n    this.loading = true;\r\n    this.error = null;\r\n    \r\n    this.meteoService.getAllStations().subscribe({\r\n      next: (data) => {\r\n        this.stations = data;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Erreur lors du chargement des stations: ' + err.message;\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleForm(): void {\r\n    this.showForm = !this.showForm;\r\n    if (!this.showForm) {\r\n      this.resetForm();\r\n    }\r\n  }\r\n\r\n  createStation(): void {\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.success = null;\r\n\r\n    this.meteoService.createStation(this.newStation).subscribe({\r\n      next: (station) => {\r\n        this.success = `Station \"${station.nom}\" cr√©√©e avec succ√®s!`;\r\n        this.loadStations();\r\n        this.resetForm();\r\n        this.showForm = false;\r\n        setTimeout(() => this.success = null, 3000);\r\n      },\r\n      error: (err) => {\r\n        this.error = 'Erreur lors de la cr√©ation: ' + err.message;\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteStation(id: number, nom: string): void {\r\n    if (confirm(`√ätes-vous s√ªr de vouloir supprimer la station \"${nom}\" ?`)) {\r\n      this.meteoService.deleteStation(id).subscribe({\r\n        next: () => {\r\n          this.success = `Station \"${nom}\" supprim√©e avec succ√®s!`;\r\n          this.loadStations();\r\n          setTimeout(() => this.success = null, 3000);\r\n        },\r\n        error: (err) => {\r\n          this.error = 'Erreur lors de la suppression: ' + err.message;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  resetForm(): void {\r\n    this.newStation = {\r\n      nom: '',\r\n      latitude: 0,\r\n      longitude: 0,\r\n      fournisseur: ''\r\n    };\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}